<nav class="te-navbar">
  <div class="te-navbar-left">
    <%= link_to root_path, class: "logo-link" do %>
      <%= image_tag "logo.svg", alt: "TourEase logo", class: "logo" %>
      <%= image_tag "TourEase.svg", alt: "TourEase", class: "logo-wordmark" %>
    <% end %>
  </div>

  <div class="te-navbar-right">
    <!-- Icône recherche -->
    <button class="search-btn" type="button" aria-label="Rechercher" data-action="toggle-search">
      <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M21 21l-4.35-4.35m2.35-6.65a8 8 0 11-16 0 8 8 0 0116 0z"
              fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <!-- Champ recherche (masqué sans occuper d'espace) -->
    <div class="search-box" aria-hidden="true">
      <input type="text" placeholder="Rechercher..." class="search-input">
    </div>

    <!-- Avatar profil -->
    <%= link_to edit_user_registration_path, class: "avatar-link" do %>
      <% if current_user.present? && current_user.respond_to?(:avatar) && current_user.avatar.attached? %>
        <%= image_tag current_user.avatar.variant(resize_to_fill: [36, 36]), class: "avatar", alt: "Mon profil" %>
      <% else %>
        <%= image_tag "default-avatar.svg", class: "avatar", alt: "Profil" %>
      <% end %>
    <% end %>
  </div>
</nav>
